{
  "info": {
    "_postman_id": "hospital-management-system",
    "name": "Hospital Management System API",
    "description": "Comprehensive API collection for Hospital Management System with role-based endpoints.\n\n🆕 FLEXIBLE PATIENT BOOKING:\n✓ NEW PATIENTS: Book with full details (name, email, contact, age, gender) - Get auto-generated Patient ID\n✓ EXISTING PATIENTS: Book using only Patient ID (e.g., PAT-2025-000001)\n✓ NO SIGNUP REQUIRED: Both flows work without registration or login\n\n📋 QUICK START:\n1. NEW PATIENT: Use 'NEW PATIENT - Book with Full Details' with patient info\n2. Get auto-generated Patient ID from response (e.g., PAT-2025-000001)\n3. RETURN VISIT: Use 'EXISTING PATIENT - Book with Patient ID Only' with just the Patient ID\n\n🔧 TESTING:\nUse 'Public Patient Booking' folder for complete booking workflow examples.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "staff_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "doctor_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "patient_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "patient_id_generated",
      "value": "",
      "type": "string"
    },
    {
      "key": "appointment_id_generated",
      "value": "",
      "type": "string"
    },
    {
      "key": "example1_patient_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "example1_appointment_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "example2_appointment_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "patient_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Hospital Admin\",\n  \"email\": \"admin@hospital.com\",\n  \"password\": \"password123\",\n  \"role\": \"admin\",\n  \"age\": 35,\n  \"gender\": \"Male\",\n  \"contact\": \"+1234567890\",\n  \"address\": \"123 Hospital Street\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('admin_token', response.token);",
                  "    pm.collectionVariables.set('jwt_token', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@hospital.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Login Staff",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('staff_token', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"staff@hospital.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Login Doctor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('doctor_token', response.token);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"doctor@hospital.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Department Management",
          "item": [
            {
              "name": "Create Department",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Cardiology\",\n  \"code\": \"CARD\",\n  \"description\": \"Heart and cardiovascular system treatment\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/departments",
                  "host": ["{{base_url}}"],
                  "path": ["departments"]
                }
              }
            },
            {
              "name": "Get All Departments",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/departments",
                  "host": ["{{base_url}}"],
                  "path": ["departments"]
                }
              }
            },
            {
              "name": "Update Department",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Updated Cardiology\",\n  \"description\": \"Advanced heart and cardiovascular system treatment\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/departments/{{department_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["departments", "{{department_id}}"]
                }
              }
            },
            {
              "name": "Delete Department",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "DELETE",
                "url": {
                  "raw": "{{base_url}}/departments/{{department_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["departments", "{{department_id}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Staff Management",
          "item": [
            {
              "name": "Create Staff",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Jane Staff\",\n  \"email\": \"staff@hospital.com\",\n  \"password\": \"password123\",\n  \"departmentId\": \"{{department_id}}\",\n  \"role\": \"staff\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/staff",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "staff"]
                }
              }
            },
            {
              "name": "Get All Staff",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/admin/staff",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "staff"]
                }
              }
            },
            {
              "name": "Update Staff",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Jane Updated Staff\",\n  \"departmentId\": \"{{department_id}}\",\n  \"role\": \"subadmin\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/staff/{{staff_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "staff", "{{staff_id}}"]
                }
              }
            },
            {
              "name": "Delete Staff",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "DELETE",
                "url": {
                  "raw": "{{base_url}}/admin/staff/{{staff_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "staff", "{{staff_id}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Doctor Management",
          "item": [
            {
              "name": "Create Doctor",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Dr. John Smith\",\n  \"email\": \"doctor@hospital.com\",\n  \"password\": \"password123\",\n  \"specialization\": \"Cardiology\",\n  \"departmentId\": \"{{department_id}}\",\n  \"availableDays\": [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\"],\n  \"timeSlots\": [\n    {\"startTime\": \"09:00\", \"endTime\": \"09:30\"},\n    {\"startTime\": \"09:30\", \"endTime\": \"10:00\"},\n    {\"startTime\": \"10:00\", \"endTime\": \"10:30\"},\n    {\"startTime\": \"10:30\", \"endTime\": \"11:00\"},\n    {\"startTime\": \"11:00\", \"endTime\": \"11:30\"}\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/doctors",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "doctors"]
                }
              }
            },
            {
              "name": "Get All Doctors",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/admin/doctors",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "doctors"]
                }
              }
            },
            {
              "name": "Update Doctor",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Dr. John Updated Smith\",\n  \"specialization\": \"Senior Cardiologist\",\n  \"availableDays\": [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\"],\n  \"timeSlots\": [\n    {\"startTime\": \"09:00\", \"endTime\": \"09:30\"},\n    {\"startTime\": \"09:30\", \"endTime\": \"10:00\"}\n  ],\n  \"status\": \"Active\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/doctors/{{doctor_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "doctors", "{{doctor_id}}"]
                }
              }
            },
            {
              "name": "Delete Doctor",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "DELETE",
                "url": {
                  "raw": "{{base_url}}/admin/doctors/{{doctor_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "doctors", "{{doctor_id}}"]
                }
              }
            },
            {
              "name": "Assign Doctors to Department",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"doctorIds\": [\"{{doctor_id1}}\", \"{{doctor_id2}}\"],\n  \"departmentId\": \"{{department_id}}\",\n  \"availableDays\": [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\"],\n  \"timeSlots\": [\n    {\"startTime\": \"09:00\", \"endTime\": \"09:30\"},\n    {\"startTime\": \"09:30\", \"endTime\": \"10:00\"}\n  ]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/assign-doctors",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "assign-doctors"]
                }
              }
            }
          ]
        },
        {
          "name": "Patient Management",
          "item": [
            {
              "name": "Get All Patients",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/appointments/patients?page=1&limit=20&search=PAT",
                  "host": ["{{base_url}}"],
                  "path": ["appointments", "patients"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "20"
                    },
                    {
                      "key": "search",
                      "value": "PAT"
                    }
                  ]
                }
              }
            },
            {
              "name": "Get All Appointments (Updated)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/appointments/all?status=Booked&page=1&limit=20",
                  "host": ["{{base_url}}"],
                  "path": ["appointments", "all"],
                  "query": [
                    {
                      "key": "status",
                      "value": "Booked"
                    },
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "20"
                    }
                  ]
                }
              }
            },
            {
              "name": "Update Appointment Status (Updated)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"Attended\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/appointments/{{appointment_id_generated}}/status",
                  "host": ["{{base_url}}"],
                  "path": [
                    "appointments",
                    "{{appointment_id_generated}}",
                    "status"
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "Statistics & Analytics",
          "item": [
            {
              "name": "Hospital Statistics",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/admin/hospital-statistics",
                  "host": ["{{base_url}}"],
                  "path": ["admin", "hospital-statistics"]
                }
              }
            },
            {
              "name": "Admin Dashboard",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/analytics/admin-dashboard?startDate=2024-01-01&endDate=2024-12-31",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "admin-dashboard"],
                  "query": [
                    {
                      "key": "startDate",
                      "value": "2024-01-01"
                    },
                    {
                      "key": "endDate",
                      "value": "2024-12-31"
                    }
                  ]
                }
              }
            },
            {
              "name": "Doctors Monthly Report",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/analytics/doctors-monthly-report?year=2024",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "doctors-monthly-report"],
                  "query": [
                    {
                      "key": "year",
                      "value": "2024"
                    }
                  ]
                }
              }
            },
            {
              "name": "Missed vs Attended Report",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/analytics/missed-vs-attended?startDate=2024-01-01&endDate=2024-12-31",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "missed-vs-attended"],
                  "query": [
                    {
                      "key": "startDate",
                      "value": "2024-01-01"
                    },
                    {
                      "key": "endDate",
                      "value": "2024-12-31"
                    }
                  ]
                }
              }
            },
            {
              "name": "User Appointment History",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/analytics/user-history/{{user_id}}?page=1&limit=10",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "user-history", "{{user_id}}"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    }
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "Cron Job Management",
          "item": [
            {
              "name": "Get Cron Job Summary",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/cron/cron-summary",
                  "host": ["{{base_url}}"],
                  "path": ["cron", "cron-summary"]
                }
              }
            },
            {
              "name": "Get Daily Statistics",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/cron/daily-statistics?page=1&limit=10",
                  "host": ["{{base_url}}"],
                  "path": ["cron", "daily-statistics"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    }
                  ]
                }
              }
            },
            {
              "name": "Generate Statistics for Date",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"date\": \"2024-10-10\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/cron/generate-statistics",
                  "host": ["{{base_url}}"],
                  "path": ["cron", "generate-statistics"]
                }
              }
            },
            {
              "name": "Update Missed Appointments",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"date\": \"2024-10-09\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/cron/update-missed-appointments",
                  "host": ["{{base_url}}"],
                  "path": ["cron", "update-missed-appointments"]
                }
              }
            },
            {
              "name": "Get Statistics for Specific Date",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{admin_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/cron/statistics/2024-10-10",
                  "host": ["{{base_url}}"],
                  "path": ["cron", "statistics", "2024-10-10"]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Staff",
      "item": [
        {
          "name": "Appointment Management",
          "item": [
            {
              "name": "NEW PATIENT - Book with Full Details",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"doctorId\": \"{{doctor_id}}\",\n  \"departmentId\": \"{{department_id}}\",\n  \"date\": \"2025-10-20\",\n  \"time\": \"10:00\",\n  \"patientName\": \"John Doe\",\n  \"patientEmail\": \"john.doe@email.com\",\n  \"patientContact\": \"+1234567890\",\n  \"patientAge\": 30,\n  \"patientGender\": \"Male\",\n  \"patientAddress\": \"123 Main Street, City, State\",\n  \"emergencyContact\": \"+0987654321\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/staff/book-appointment",
                  "host": ["{{base_url}}"],
                  "path": ["staff", "book-appointment"]
                },
                "description": "🆕 NEW PATIENT BOOKING\n\n✅ For first-time patients who don't have a Patient ID yet\n✅ System auto-generates Patient ID (e.g., PAT-2025-000001)\n✅ Staff can only book for their own department\n✅ Doctor must belong to staff's department\n\nRequired Fields:\n- doctorId: ID of doctor from staff's department\n- departmentId: Must match staff's department\n- date: Appointment date (YYYY-MM-DD)\n- time: Appointment time (HH:MM)\n- patientName: Full name\n- patientEmail: Valid email\n- patientContact: Phone number\n- patientAge: Age in years\n- patientGender: Male/Female/Other\n\nOptional Fields:\n- patientAddress\n- emergencyContact\n\n📝 Response includes:\n- Auto-generated Patient ID for future use\n- Complete appointment details\n- isNewPatient: true flag"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.patientId) {",
                      "        pm.collectionVariables.set('patient_id_generated', jsonData.patientId);",
                      "        console.log('✅ Patient ID saved:', jsonData.patientId);",
                      "    }",
                      "    if (jsonData.appointment && jsonData.appointment._id) {",
                      "        pm.collectionVariables.set('appointment_id_generated', jsonData.appointment._id);",
                      "        console.log('✅ Appointment ID saved:', jsonData.appointment._id);",
                      "    }",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "EXISTING PATIENT - Book with Patient ID",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"patientId\": \"{{patient_id_generated}}\",\n  \"doctorId\": \"{{doctor_id}}\",\n  \"departmentId\": \"{{department_id}}\",\n  \"date\": \"2025-10-21\",\n  \"time\": \"11:00\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/staff/book-appointment",
                  "host": ["{{base_url}}"],
                  "path": ["staff", "book-appointment"]
                },
                "description": "⚡ EXISTING PATIENT BOOKING\n\n✅ For returning patients who already have a Patient ID\n✅ Just provide Patient ID - no other patient details needed\n✅ Super fast booking process\n✅ Staff can only book for their own department\n✅ Doctor must belong to staff's department\n\nRequired Fields:\n- patientId: Patient ID (e.g., PAT-2025-000001) or MongoDB _id\n- doctorId: ID of doctor from staff's department\n- departmentId: Must match staff's department\n- date: Appointment date (YYYY-MM-DD)\n- time: Appointment time (HH:MM)\n\n📝 Response includes:\n- Patient details (fetched automatically)\n- Complete appointment details\n- isNewPatient: false flag"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.appointment && jsonData.appointment._id) {",
                      "        pm.collectionVariables.set('appointment_id_generated', jsonData.appointment._id);",
                      "        console.log('✅ Appointment ID saved:', jsonData.appointment._id);",
                      "    }",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Update Appointment Status",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"Attended\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/staff/appointments/{{appointment_id_generated}}/status",
                  "host": ["{{base_url}}"],
                  "path": [
                    "staff",
                    "appointments",
                    "{{appointment_id_generated}}",
                    "status"
                  ]
                },
                "description": "🔒 UPDATE APPOINTMENT STATUS (Department Restricted)\n\n✅ Staff can only update appointments in their own department\n✅ Cannot modify appointments from other departments\n\nValid Status Values:\n- Attended: Patient attended the appointment\n- Missed: Patient did not show up\n\nSecurity:\n- Validates appointment belongs to staff's department\n- Returns 403 Forbidden if attempting to update other department's appointments"
              }
            },
            {
              "name": "Get All Appointments",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/staff/appointments?status=Booked&date=2025-10-20&doctorId={{doctor_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["staff", "appointments"],
                  "query": [
                    {
                      "key": "status",
                      "value": "Booked",
                      "description": "Filter by status: Booked, Attended, Missed"
                    },
                    {
                      "key": "date",
                      "value": "2025-10-20",
                      "description": "Filter by date (YYYY-MM-DD)"
                    },
                    {
                      "key": "doctorId",
                      "value": "{{doctor_id}}",
                      "description": "Filter by specific doctor (must be from staff's department)"
                    }
                  ]
                },
                "description": "🔒 GET ALL APPOINTMENTS (Department Restricted)\n\n✅ Automatically shows only appointments from staff's department\n✅ Cannot view appointments from other departments\n✅ Supports multiple filters\n\nQuery Parameters (all optional):\n- status: Filter by appointment status (Booked, Attended, Missed)\n- date: Filter by specific date (YYYY-MM-DD format)\n- doctorId: Filter by specific doctor (must be from staff's department)\n\nResponse includes:\n- total: Total number of appointments\n- appointments: Array of appointment objects with populated doctor, patient, and department details"
              }
            }
          ]
        },
        {
          "name": "Schedule Management",
          "item": [
            {
              "name": "Get Today's Schedules",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/staff/today-schedules",
                  "host": ["{{base_url}}"],
                  "path": ["staff", "today-schedules"]
                },
                "description": "🔒 GET TODAY'S SCHEDULE (Department Restricted)\n\n✅ Shows only TODAY's appointments for staff's department\n✅ Automatically uses current date\n✅ Grouped by doctors\n✅ Includes statistics\n\nResponse includes:\n- date: Today's date\n- schedules: Array of doctors with their appointments\n  - doctorName, specialization, department\n  - totalAppointments, attended, missed, booked counts\n  - appointments: Array of today's appointments for each doctor\n\nUse Cases:\n- Morning briefing\n- Check today's workload\n- Track patient arrivals\n- Update appointment statuses"
              }
            },
            {
              "name": "Get Daily Schedule (Specific Date)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{staff_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/staff/daily-schedule/2025-10-20",
                  "host": ["{{base_url}}"],
                  "path": ["staff", "daily-schedule", "2025-10-20"]
                },
                "description": "🔒 GET DAILY SCHEDULE FOR SPECIFIC DATE (Department Restricted)\n\n✅ View schedule for any specific date\n✅ Shows only appointments for staff's department\n✅ Grouped by doctors with statistics\n✅ Perfect for planning ahead\n\nURL Parameter:\n- date: Date in YYYY-MM-DD format (e.g., 2025-10-20)\n\nResponse includes:\n- date: Requested date\n- totalDoctors: Number of doctors with appointments\n- totalAppointments: Total appointments across all doctors\n- schedules: Array of doctors with their appointments\n  - doctorName, specialization, department\n  - totalAppointments, attended, missed, booked counts\n  - appointments: Array of appointments for each doctor\n\nUse Cases:\n- Plan future schedules\n- Check availability for specific dates\n- Review past appointments\n- Generate daily reports"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Doctor",
      "item": [
        {
          "name": "My Appointments",
          "item": [
            {
              "name": "Get Today's Appointments",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{doctor_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors/my/today-appointments",
                  "host": ["{{base_url}}"],
                  "path": ["doctors", "my", "today-appointments"]
                }
              }
            },
            {
              "name": "Get Monthly Statistics",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{doctor_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors/my/monthly-statistics?year=2024&month=10",
                  "host": ["{{base_url}}"],
                  "path": ["doctors", "my", "monthly-statistics"],
                  "query": [
                    {
                      "key": "year",
                      "value": "2024"
                    },
                    {
                      "key": "month",
                      "value": "10"
                    }
                  ]
                }
              }
            },
            {
              "name": "Get Patient History",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{doctor_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors/my/patient-history?page=1&limit=10",
                  "host": ["{{base_url}}"],
                  "path": ["doctors", "my", "patient-history"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    }
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "General",
          "item": [
            {
              "name": "Get All Doctors",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{doctor_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors?departmentId={{department_id}}&specialization=Cardiology",
                  "host": ["{{base_url}}"],
                  "path": ["doctors"],
                  "query": [
                    {
                      "key": "departmentId",
                      "value": "{{department_id}}"
                    },
                    {
                      "key": "specialization",
                      "value": "Cardiology"
                    }
                  ]
                }
              }
            },
            {
              "name": "Get Doctor Availability",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{doctor_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors/{{doctor_id}}/availability?date=2024-10-15",
                  "host": ["{{base_url}}"],
                  "path": ["doctors", "{{doctor_id}}", "availability"],
                  "query": [
                    {
                      "key": "date",
                      "value": "2024-10-15"
                    }
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Public Patient Booking (No Registration)",
      "item": [
        {
          "name": "NEW PATIENT - Book with Full Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('patient_id_generated', response.patientId);",
                  "    pm.collectionVariables.set('appointment_id_generated', response.appointment._id);",
                  "    console.log('✓ New Patient Created');",
                  "    console.log('Patient ID:', response.patientId);",
                  "    console.log('Save this Patient ID for future bookings!');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"doctorId\": \"{{doctor_id}}\",\n  \"departmentId\": \"{{department_id}}\",\n  \"date\": \"2025-10-15\",\n  \"time\": \"08:30\",\n  \"patientName\": \"John Doe\",\n  \"patientEmail\": \"john.doe@email.com\",\n  \"patientContact\": \"+1234567890\",\n  \"patientAge\": 30,\n  \"patientGender\": \"Male\",\n  \"patientAddress\": \"123 Main Street, City, State\",\n  \"emergencyContact\": \"+0987654321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/appointments/book",
              "host": ["{{base_url}}"],
              "path": ["appointments", "book"]
            },
            "description": "Book appointment as a NEW patient. Provide full details and system will auto-generate a Patient ID. No signup required!"
          }
        },
        {
          "name": "EXISTING PATIENT - Book with Patient ID Only",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('appointment_id_generated', response.appointment._id);",
                  "    console.log('✓ Appointment Booked for Existing Patient');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patient_id_generated}}\",\n  \"doctorId\": \"{{doctor_id}}\",\n  \"departmentId\": \"{{department_id}}\",\n  \"date\": \"2025-10-16\",\n  \"time\": \"09:00\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/appointments/book",
              "host": ["{{base_url}}"],
              "path": ["appointments", "book"]
            },
            "description": "Book appointment as an EXISTING patient. Just provide your Patient ID (e.g., PAT-2025-000001). No other details needed!"
          }
        },
        {
          "name": "Get Patient Info by Patient ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/appointments/search-patient/{{patient_id_generated}}",
              "host": ["{{base_url}}"],
              "path": [
                "appointments",
                "search-patient",
                "{{patient_id_generated}}"
              ]
            }
          }
        },
        {
          "name": "Get Appointment History by Patient ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/appointments/patient/{{patient_id_generated}}?upcoming=true",
              "host": ["{{base_url}}"],
              "path": ["appointments", "patient", "{{patient_id_generated}}"],
              "query": [
                {
                  "key": "upcoming",
                  "value": "true"
                }
              ]
            }
          }
        },
        {
          "name": "Cancel Appointment by Patient ID",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/appointments/patient/{{patient_id_generated}}/cancel/{{appointment_id_generated}}",
              "host": ["{{base_url}}"],
              "path": [
                "appointments",
                "patient",
                "{{patient_id_generated}}",
                "cancel",
                "{{appointment_id_generated}}"
              ]
            },
            "description": "Cancel an appointment using Patient ID and Appointment ID. No authentication required."
          }
        },
        {
          "name": "Browse Doctors",
          "item": [
            {
              "name": "Get All Doctors",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors?departmentId={{department_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["doctors"],
                  "query": [
                    {
                      "key": "departmentId",
                      "value": "{{department_id}}",
                      "description": "Filter doctors by department (optional)"
                    }
                  ]
                },
                "description": "Browse all available doctors. Filter by department if needed. No authentication required."
              }
            },
            {
              "name": "Check Doctor Availability",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/doctors/{{doctor_id}}/availability?date=2025-10-20",
                  "host": ["{{base_url}}"],
                  "path": ["doctors", "{{doctor_id}}", "availability"],
                  "query": [
                    {
                      "key": "date",
                      "value": "2025-10-20",
                      "description": "Check availability for specific date (YYYY-MM-DD)"
                    }
                  ]
                },
                "description": "Check doctor's availability for a specific date. Shows available time slots. No authentication required."
              }
            },
            {
              "name": "Get All Departments",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/departments",
                  "host": ["{{base_url}}"],
                  "path": ["departments"]
                },
                "description": "Get list of all hospital departments. No authentication required."
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Health Check & System Info",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:3000/health",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["health"]
            }
          }
        },
        {
          "name": "System Status",
          "request": {
            "method": "GET",
            "url": {
              "raw": "http://localhost:3000/status",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["status"]
            }
          }
        },
        {
          "name": "System Information",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/system/info",
              "host": ["{{base_url}}"],
              "path": ["system", "info"]
            }
          }
        }
      ]
    }
  ]
}
